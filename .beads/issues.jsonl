{"id":"beadloom-0do","title":"DOC-01: Create doc/ documentation and debug beadloom on it","description":"Create comprehensive documentation in doc/ directory covering: architecture, CLI usage, MCP server, graph format, sync engine. Then use beadloom tools (reindex, ctx, sync-check, doctor, graph) on the documentation to find and fix bugs.","status":"closed","priority":1,"issue_type":"task","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:36:39.961558+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:51:58.277863+03:00","closed_at":"2026-02-08T16:51:58.277863+03:00","close_reason":"Closed","comments":[{"id":21,"issue_id":"beadloom-0do","author":"v.zoologov","text":"COMPLETED: Created documentation (6 files in docs/), updated graph with docs linked to nodes, found and fixed 2 critical bugs (sync_state was not populated during reindex + check_sync read hashes from DB instead of disk), found 5 additional issues (created in beads). All 232 tests pass.","created_at":"2026-02-08T13:51:52Z"},{"id":27,"issue_id":"beadloom-0do","author":"v.zoologov","text":"COMPLETED: Created documentation (6 files in docs/), updated graph with docs linked to nodes, found and fixed 2 critical bugs (sync_state was not populated during reindex + check_sync read hashes from DB instead of disk), found 5 additional issues (created in beads). All 232 tests pass.","created_at":"2026-02-08T13:51:52Z"}]}
{"id":"beadloom-179","title":"BEAD-19: beadloom sync-update --auto (LLM)","description":"LLM integration for auto sync-update. Parse llm config, collect context + diff, LLM prompt, show proposed changes. Error without config.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:57.073552+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:18:43.30054+03:00","closed_at":"2026-02-08T16:18:43.30054+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-179","depends_on_id":"beadloom-ae6","type":"blocks","created_at":"2026-02-08T15:29:24.631956+03:00","created_by":"v.zoologov"}],"comments":[{"id":20,"issue_id":"beadloom-179","author":"v.zoologov","text":"COMPLETED: sync-update --auto -- LLM config check, API key env var validation. Stub for LLM call (not yet implemented). 2 tests. ruff clean.","created_at":"2026-02-08T13:18:43Z"},{"id":28,"issue_id":"beadloom-179","author":"v.zoologov","text":"COMPLETED: sync-update --auto -- LLM config check, API key env var validation. Stub for LLM call (not yet implemented). 2 tests. ruff clean.","created_at":"2026-02-08T13:18:43Z"}]}
{"id":"beadloom-1c1","title":"5.3 beadloom ui — TUI dashboard","description":"New package tui/: Textual App with 3-panel layout (DomainList, NodeDetail, StatusBar). Iterative build: A=skeleton, B=details, C=search, D=why/diff. Read-only SQLite. Import guard for optional textual dep. Textual CSS styling. beadloom[tui] extra in pyproject.toml. Tests via Textual pilot. See RFC-0006 §3.3","status":"open","priority":1,"issue_type":"task","owner":"zoologov@gmail.com","created_at":"2026-02-11T01:54:08.915873+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T01:54:08.915873+03:00","dependencies":[{"issue_id":"beadloom-1c1","depends_on_id":"beadloom-fzb","type":"blocks","created_at":"2026-02-11T01:54:24.7064+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-1c1","depends_on_id":"beadloom-q6b","type":"blocks","created_at":"2026-02-11T01:54:24.785652+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-1c1","depends_on_id":"beadloom-fwo","type":"parent-child","created_at":"2026-02-11T01:57:21.772154+03:00","created_by":"v.zoologov"}]}
{"id":"beadloom-1ux","title":"[BDL-002] 1.4: Create .beadloom/AGENTS.md generation in init","description":"Add AGENTS.md generation to beadloom init --bootstrap. File goes to .beadloom/AGENTS.md. Content teaches agents how to use Beadloom MCP tools (get_context, sync_check, list_nodes). Short and actionable. Works with Claude Code and Cursor.","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-10T22:29:41.264744+03:00","created_by":"v.zoologov","updated_at":"2026-02-10T22:35:10.517656+03:00","closed_at":"2026-02-10T22:35:10.517656+03:00","close_reason":"Closed","comments":[{"id":55,"issue_id":"beadloom-1ux","author":"v.zoologov","text":"COMPLETED: Added generate_agents_md() to onboarding.py with AGENTS_MD_TEMPLATE. Bootstrap and interactive init both generate .beadloom/AGENTS.md. Added 4 tests for generation. All tests pass.","created_at":"2026-02-10T19:35:03Z"}]}
{"id":"beadloom-21b","title":"[4.8] AGENTS.md cleanup and update","description":"Remove stale llm_updater.py, httpx, LLM mocking references. Add MCP write tools section, update test count, update file organization for search.py. Files: AGENTS.md","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-11T00:32:47.546012+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T01:10:37.152682+03:00","closed_at":"2026-02-11T01:10:37.152682+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-21b","depends_on_id":"beadloom-gjh","type":"blocks","created_at":"2026-02-11T00:33:03.62181+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-21b","depends_on_id":"beadloom-v6b","type":"blocks","created_at":"2026-02-11T00:33:04.232744+03:00","created_by":"v.zoologov"}],"comments":[{"id":71,"issue_id":"beadloom-21b","author":"v.zoologov","text":"COMPLETED: Removed httpx from stack, removed llm_updater.py from file tree, removed LLM mocking references, updated test count (464), added MCP write tools section, added search command docs, updated file organization.","created_at":"2026-02-10T22:10:37Z"}]}
{"id":"beadloom-26s","title":"2.3 Zero-doc mode — explicit UX support for no-docs workflow","description":"Add zero-doc UX: config docs_dir=null, interactive init message, bootstrap output distinction, AGENTS.md conditional section. Smallest deliverable in Phase 2.","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-10T22:55:40.080303+03:00","created_by":"v.zoologov","updated_at":"2026-02-10T23:01:39.434566+03:00","closed_at":"2026-02-10T23:01:39.434566+03:00","close_reason":"Closed","comments":[{"id":57,"issue_id":"beadloom-26s","author":"v.zoologov","text":"COMPLETED: Zero-doc mode implemented. Config sets docs_dir=null when no docs/ found. Interactive init shows friendly message. Bootstrap works without docs. Tests: TestBootstrapZeroDoc (3 tests), TestInteractiveInit::test_zero_doc_no_import_choice.","created_at":"2026-02-10T20:01:31Z"}]}
{"id":"beadloom-2gk","title":"[BDL-004] 3.4 MCP templates (Cursor, Claude Code, Windsurf)","description":"Extend setup-mcp with --tool flag for cursor (.cursor/mcp.json), claude-code (.mcp.json), windsurf (~/.codeium/windsurf/mcp_config.json). Add --project arg for global configs.","status":"closed","priority":1,"issue_type":"feature","owner":"zoologov@gmail.com","created_at":"2026-02-10T23:40:56.340512+03:00","created_by":"v.zoologov","updated_at":"2026-02-10T23:49:32.571727+03:00","closed_at":"2026-02-10T23:49:32.571727+03:00","close_reason":"Closed"}
{"id":"beadloom-33b","title":"FUNC-04: beadloom init interactive mode","description":"Interactive init without flags: menu Choose [1/2/3] (bootstrap/import/scope). Re-init detection (re-bootstrap/merge/cancel). Rich prompts","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:54.851901+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T19:45:38.583498+03:00","closed_at":"2026-02-08T19:45:38.583498+03:00","close_reason":"Closed","comments":[{"id":24,"issue_id":"beadloom-33b","author":"v.zoologov","text":"COMPLETED: interactive init -- Rich prompts, re-init detection (overwrite/cancel), smart mode selection (bootstrap/import/both). 5 new tests.","created_at":"2026-02-08T16:45:36Z"},{"id":29,"issue_id":"beadloom-33b","author":"v.zoologov","text":"COMPLETED: interactive init -- Rich prompts, re-init detection (overwrite/cancel), smart mode selection (bootstrap/import/both). 5 new tests.","created_at":"2026-02-08T16:45:36Z"}]}
{"id":"beadloom-3ow","title":"BEAD-01: Project scaffolding + CLI skeleton","description":"pyproject.toml, src/beadloom/, CLI entry point (Click), --version, --verbose, --quiet, ruff/mypy/pytest configs, conftest.py","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:29.663224+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T15:34:08.568528+03:00","closed_at":"2026-02-08T15:34:08.568528+03:00","close_reason":"Closed","comments":[{"id":1,"issue_id":"beadloom-3ow","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- pyproject.toml with dependencies (click, rich, pyyaml, tree-sitter, mcp) + dev deps (pytest, ruff, mypy)\n- src/beadloom/__init__.py, cli.py (Click group with --version/--verbose/--quiet)\n- tests/conftest.py with base fixtures (tmp_project)\n- .gitignore updated (Python, .beadloom, .beads, IDE)\n- uv venv + install work, beadloom --version = 0.1.0\n- py.typed marker for mypy\n\nDECISIONS:\n- hatchling as build backend (standard for Python)\n- Flat structure src/beadloom/ (no subpackages at start, refactor later)\n\nTESTS:\n- pytest runs, tmp_project fixture ready\n- Code is still minimal, full tests start with BEAD-02\n\nFILES:\n- pyproject.toml -- new\n- src/beadloom/__init__.py -- new\n- src/beadloom/cli.py -- new\n- src/beadloom/py.typed -- new\n- tests/__init__.py -- new\n- tests/conftest.py -- new\n- .gitignore -- updated","created_at":"2026-02-08T12:34:08Z"},{"id":30,"issue_id":"beadloom-3ow","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- pyproject.toml with dependencies (click, rich, pyyaml, tree-sitter, mcp) + dev deps (pytest, ruff, mypy)\n- src/beadloom/__init__.py, cli.py (Click group with --version/--verbose/--quiet)\n- tests/conftest.py with base fixtures (tmp_project)\n- .gitignore updated (Python, .beadloom, .beads, IDE)\n- uv venv + install work, beadloom --version = 0.1.0\n- py.typed marker for mypy\n\nDECISIONS:\n- hatchling as build backend (standard for Python)\n- Flat structure src/beadloom/ (no subpackages at start, refactor later)\n\nTESTS:\n- pytest runs, tmp_project fixture ready\n- Code is still minimal, full tests start with BEAD-02\n\nFILES:\n- pyproject.toml -- new\n- src/beadloom/__init__.py -- new\n- src/beadloom/cli.py -- new\n- src/beadloom/py.typed -- new\n- tests/__init__.py -- new\n- tests/conftest.py -- new\n- .gitignore -- updated","created_at":"2026-02-08T12:34:08Z"}]}
{"id":"beadloom-3qz","title":"BEAD-05: Code symbol indexer (tree-sitter)","description":"code_indexer.py: index_code(), parse_annotations(), extract_symbols(). Parse Python via tree-sitter, extract functions/classes/types, parse beadloom annotations. Populate code_symbols + touches_code edges.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:37.224691+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T15:45:06.872833+03:00","closed_at":"2026-02-08T15:45:06.872833+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-3qz","depends_on_id":"beadloom-bo4","type":"blocks","created_at":"2026-02-08T15:29:23.566463+03:00","created_by":"v.zoologov"}],"comments":[{"id":5,"issue_id":"beadloom-3qz","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- code_indexer.py: parse_annotations(), extract_symbols()\n- tree-sitter Python parsing: functions, classes (top-level only)\n- Async function and decorated definition support\n- Parsing beadloom annotations from comments (#beadloom:key=value)\n- Annotation binds only to the next symbol\n- SHA256 file hash for each symbol\n- tree-sitter-python added to dependencies\n\nTESTS:\n- 16 tests passed (90 total)\n- TestParseAnnotations: 6 tests (single, multi, none, empty, service, adr)\n- TestExtractSymbols: 10 tests (function, class, multi, method-skip, annotation, annotation-scope, hash, empty, async, decorated)\n- ruff clean, mypy clean\n\nFILES:\n- src/beadloom/code_indexer.py -- new\n- tests/test_code_indexer.py -- new\n- pyproject.toml -- added tree-sitter-python","created_at":"2026-02-08T12:45:06Z"},{"id":31,"issue_id":"beadloom-3qz","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- code_indexer.py: parse_annotations(), extract_symbols()\n- tree-sitter Python parsing: functions, classes (top-level only)\n- Async function and decorated definition support\n- Parsing beadloom annotations from comments (#beadloom:key=value)\n- Annotation binds only to the next symbol\n- SHA256 file hash for each symbol\n- tree-sitter-python added to dependencies\n\nTESTS:\n- 16 tests passed (90 total)\n- TestParseAnnotations: 6 tests (single, multi, none, empty, service, adr)\n- TestExtractSymbols: 10 tests (function, class, multi, method-skip, annotation, annotation-scope, hash, empty, async, decorated)\n- ruff clean, mypy clean\n\nFILES:\n- src/beadloom/code_indexer.py -- new\n- tests/test_code_indexer.py -- new\n- pyproject.toml -- added tree-sitter-python","created_at":"2026-02-08T12:45:06Z"}]}
{"id":"beadloom-3r3","title":"BEAD-15: sync_state management","description":"sync_engine.py: build_sync_state(), check_sync(), update_sync(). Populate sync_state at reindex (doc↔code pairs via shared ref_id). Hash comparison, status tracking.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:50.363677+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:04:13.003487+03:00","closed_at":"2026-02-08T16:04:13.003487+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-3r3","depends_on_id":"beadloom-8bh","type":"blocks","created_at":"2026-02-08T15:29:24.377808+03:00","created_by":"v.zoologov"}],"comments":[{"id":12,"issue_id":"beadloom-3r3","author":"v.zoologov","text":"COMPLETED: sync_engine.py -- SyncPair dataclass, build_sync_state(), check_sync(). Links docs + code_symbols by ref_id, compares hashes. 8 tests. ruff clean.","created_at":"2026-02-08T13:04:12Z"},{"id":32,"issue_id":"beadloom-3r3","author":"v.zoologov","text":"COMPLETED: sync_engine.py -- SyncPair dataclass, build_sync_state(), check_sync(). Links docs + code_symbols by ref_id, compares hashes. 8 tests. ruff clean.","created_at":"2026-02-08T13:04:12Z"}]}
{"id":"beadloom-40p","title":"BEAD-04: Document indexer","description":"doc_indexer.py: index_docs(), chunk_markdown(), classify_section(). Scan docs/*.md, chunk by H2, 2000 char limit, section classification, SHA256 hashing. Populate docs + chunks tables.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:37.146596+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T15:42:26.476547+03:00","closed_at":"2026-02-08T15:42:26.476547+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-40p","depends_on_id":"beadloom-bo4","type":"blocks","created_at":"2026-02-08T15:29:23.507597+03:00","created_by":"v.zoologov"}],"comments":[{"id":4,"issue_id":"beadloom-40p","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- doc_indexer.py: classify_section(), chunk_markdown(), index_docs(), DocIndexResult\n- Chunking by H2, 2000 char limit, paragraph splitting\n- Section classification: spec, invariants, api, tests, constraints, other\n- SHA256 file hashing\n- ref_id_map for linking docs and chunks to graph nodes\n- Recursive scan of docs_dir/*.md\n\nTESTS:\n- 34 tests passed (74 total)\n- TestClassifySection: 17 parametrized tests\n- TestChunkMarkdown: 8 tests (H2 split, intro, large section, classification, sequential index, empty, no headings, H3)\n- TestIndexDocs: 9 tests (single doc, chunks, nested, hash, empty, non-md skip, ref_id mapping, node_ref_id, kind)\n- ruff clean, mypy clean\n\nFILES:\n- src/beadloom/doc_indexer.py -- new\n- tests/test_doc_indexer.py -- new","created_at":"2026-02-08T12:42:26Z"},{"id":33,"issue_id":"beadloom-40p","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- doc_indexer.py: classify_section(), chunk_markdown(), index_docs(), DocIndexResult\n- Chunking by H2, 2000 char limit, paragraph splitting\n- Section classification: spec, invariants, api, tests, constraints, other\n- SHA256 file hashing\n- ref_id_map for linking docs and chunks to graph nodes\n- Recursive scan of docs_dir/*.md\n\nTESTS:\n- 34 tests passed (74 total)\n- TestClassifySection: 17 parametrized tests\n- TestChunkMarkdown: 8 tests (H2 split, intro, large section, classification, sequential index, empty, no headings, H3)\n- TestIndexDocs: 9 tests (single doc, chunks, nested, hash, empty, non-md skip, ref_id mapping, node_ref_id, kind)\n- ruff clean, mypy clean\n\nFILES:\n- src/beadloom/doc_indexer.py -- new\n- tests/test_doc_indexer.py -- new","created_at":"2026-02-08T12:42:26Z"}]}
{"id":"beadloom-5qh","title":"BEAD-18: beadloom install-hooks","description":"CLI install-hooks. Generate pre-commit hook script. hook_mode from config.yml (warn/block/off).","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:56.995546+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:12:33.128903+03:00","closed_at":"2026-02-08T16:12:33.128903+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-5qh","depends_on_id":"beadloom-70p","type":"blocks","created_at":"2026-02-08T15:29:24.568716+03:00","created_by":"v.zoologov"}],"comments":[{"id":16,"issue_id":"beadloom-5qh","author":"v.zoologov","text":"COMPLETED: CLI install-hooks -- pre-commit hook with warn/block mode, --remove. Hook script templates with beadloom sync-check --porcelain. 6 tests. ruff clean.","created_at":"2026-02-08T13:12:33Z"},{"id":34,"issue_id":"beadloom-5qh","author":"v.zoologov","text":"COMPLETED: CLI install-hooks -- pre-commit hook with warn/block mode, --remove. Hook script templates with beadloom sync-check --porcelain. 6 tests. ruff clean.","created_at":"2026-02-08T13:12:33Z"}]}
{"id":"beadloom-5yn","title":"BEAD-08: beadloom ctx command","description":"CLI ctx command. Multiple ref_ids, --json/--markdown output, --depth/--max-nodes/--max-chunks flags. Rich Markdown output by default.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:43.909927+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T15:58:47.544855+03:00","closed_at":"2026-02-08T15:58:47.544855+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-5yn","depends_on_id":"beadloom-68p","type":"blocks","created_at":"2026-02-08T15:29:23.871711+03:00","created_by":"v.zoologov"}],"comments":[{"id":8,"issue_id":"beadloom-5yn","author":"v.zoologov","text":"COMPLETED: CLI ctx command with --json/--markdown/--depth/--max-nodes/--max-chunks/--project. Markdown formatting with Graph/Documentation/Code Symbols/Stale Docs sections. 9 tests, all pass. ruff clean.","created_at":"2026-02-08T12:58:47Z"},{"id":35,"issue_id":"beadloom-5yn","author":"v.zoologov","text":"COMPLETED: CLI ctx command with --json/--markdown/--depth/--max-nodes/--max-chunks/--project. Markdown formatting with Graph/Documentation/Code Symbols/Stale Docs sections. 9 tests, all pass. ruff clean.","created_at":"2026-02-08T12:58:47Z"}]}
{"id":"beadloom-68p","title":"BEAD-07: Context builder (BFS)","description":"context_builder.py: build_context(), bfs_subgraph(), collect_chunks(). BFS with edge priority, depth/max_nodes/max_chunks params. Assemble JSON context bundle. Levenshtein suggestion.","status":"closed","priority":2,"issue_type":"task","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:43.832646+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T15:56:51.931124+03:00","closed_at":"2026-02-08T15:56:51.931124+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-68p","depends_on_id":"beadloom-8bh","type":"blocks","created_at":"2026-02-08T15:29:23.810911+03:00","created_by":"v.zoologov"}],"comments":[{"id":7,"issue_id":"beadloom-68p","author":"v.zoologov","text":"COMPLETED: context_builder.py -- BFS subgraph traversal + context bundle assembly. 4 functions: bfs_subgraph(), collect_chunks(), build_context(), suggest_ref_id(). Edge priority ordering, section priority, Levenshtein suggestions, sync_state check. 31 tests, all pass. ruff clean.","created_at":"2026-02-08T12:56:44Z"},{"id":36,"issue_id":"beadloom-68p","author":"v.zoologov","text":"COMPLETED: context_builder.py -- BFS subgraph traversal + context bundle assembly. 4 functions: bfs_subgraph(), collect_chunks(), build_context(), suggest_ref_id(). Edge priority ordering, section priority, Levenshtein suggestions, sync_state check. 31 tests, all pass. ruff clean.","created_at":"2026-02-08T12:56:44Z"}]}
{"id":"beadloom-6fr","title":"5.4 beadloom watch — auto-reindex","description":"New module watcher.py: watchfiles-based file watcher, 500ms debounce, filter relevant extensions, graph YAML change = full reindex else incremental. Callback for TUI integration. Import guard for optional watchfiles dep. beadloom[watch] extra in pyproject.toml. Tests in test_watcher.py + test_cli_watch.py. See RFC-0006 §3.4","status":"open","priority":2,"issue_type":"task","owner":"zoologov@gmail.com","created_at":"2026-02-11T01:54:12.599437+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T01:54:12.599437+03:00","dependencies":[{"issue_id":"beadloom-6fr","depends_on_id":"beadloom-fwo","type":"parent-child","created_at":"2026-02-11T01:57:21.847941+03:00","created_by":"v.zoologov"}]}
{"id":"beadloom-6fu","title":"INFRA-03: PyPI publishing","description":"Setup uv build + uv publish workflow. Verify package installs cleanly via uv tool install beadloom. Test entry point works after install","status":"closed","priority":3,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:51.162154+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T19:09:35.231821+03:00","closed_at":"2026-02-08T19:09:35.231821+03:00","close_reason":"Workflow pypi-publish.yml ready, dynamic versioning from __init__.py","dependencies":[{"issue_id":"beadloom-6fu","depends_on_id":"beadloom-8yw","type":"blocks","created_at":"2026-02-08T16:27:55.312688+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-6fu","depends_on_id":"beadloom-feu","type":"blocks","created_at":"2026-02-08T16:27:58.794396+03:00","created_by":"v.zoologov"}]}
{"id":"beadloom-6gy","title":"BEAD-14: mcp-serve + setup-mcp commands","description":"CLI mcp-serve (stdio launch), setup-mcp (create/update .mcp.json). --global, --remove flags. Absolute path detection.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:50.284895+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:15:08.586558+03:00","closed_at":"2026-02-08T16:15:08.586558+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-6gy","depends_on_id":"beadloom-b5a","type":"blocks","created_at":"2026-02-08T15:29:24.248179+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-6gy","depends_on_id":"beadloom-8hb","type":"blocks","created_at":"2026-02-08T15:29:24.313075+03:00","created_by":"v.zoologov"}],"comments":[{"id":18,"issue_id":"beadloom-6gy","author":"v.zoologov","text":"COMPLETED: CLI mcp-serve (stdio transport, anyio) + setup-mcp (create/update/remove .mcp.json). 7 tests. ruff clean.","created_at":"2026-02-08T13:15:08Z"},{"id":37,"issue_id":"beadloom-6gy","author":"v.zoologov","text":"COMPLETED: CLI mcp-serve (stdio transport, anyio) + setup-mcp (create/update/remove .mcp.json). 7 tests. ruff clean.","created_at":"2026-02-08T13:15:08Z"}]}
{"id":"beadloom-6ke","title":"BUG: Module-level beadloom annotations ignored by code_indexer","description":"code_indexer.py only detects annotations immediately before def/class. Module-level annotations (# beadloom:domain=X at file top) are consumed by pending_annotation but reset by the next non-symbol node (docstring, imports). Fix: support module-level annotations that apply to ALL symbols in the file, OR document that annotations must be before def/class.","status":"closed","priority":2,"issue_type":"bug","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:51:24.113069+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:01:13.815965+03:00","closed_at":"2026-02-08T18:01:13.815965+03:00","close_reason":"Closed"}
{"id":"beadloom-6km","title":"[4.2] Incremental reindex","description":"Track file state in file_index table. Only re-process changed/added/deleted files. Add --full flag for escape hatch. Files: db.py, reindex.py, cli.py, graph_loader.py, doc_indexer.py, code_indexer.py","status":"closed","priority":0,"issue_type":"feature","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-11T00:32:39.761556+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T00:52:02.702396+03:00","closed_at":"2026-02-11T00:52:02.702396+03:00","close_reason":"Closed","comments":[{"id":63,"issue_id":"beadloom-6km","author":"v.zoologov","text":"COMPLETED: Incremental reindex implemented. file_index table tracks SHA-256 hashes. Algorithm: scan→diff→process changed/added/deleted. Graph YAML changes trigger full reindex (safe). Docs/code get true incremental. CLI: --full flag for escape hatch. 10 new tests (27 total reindex). 421 total tests pass.","created_at":"2026-02-10T21:52:01Z"}]}
{"id":"beadloom-6lg","title":"UX: ctx markdown formatter heading collision with chunk content","description":"_format_markdown uses ### for chunk headers, but chunk content may also contain ### headings (from H3 in docs). This makes output visually confusing. Fix: use a different heading level (##) or separator format for chunk boundaries.","status":"closed","priority":3,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:51:35.022509+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:41:53.187335+03:00","closed_at":"2026-02-08T18:41:53.187335+03:00","close_reason":"Closed"}
{"id":"beadloom-70p","title":"BEAD-16: beadloom sync-check command","description":"CLI sync-check. Human-readable output (Rich), --porcelain (TAB-separated), --ref filter. Exit codes: 0/1/2.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:56.841491+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:06:45.99239+03:00","closed_at":"2026-02-08T16:06:45.99239+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-70p","depends_on_id":"beadloom-3r3","type":"blocks","created_at":"2026-02-08T15:29:24.440692+03:00","created_by":"v.zoologov"}],"comments":[{"id":13,"issue_id":"beadloom-70p","author":"v.zoologov","text":"COMPLETED: CLI sync-check command with --porcelain (TAB-separated), --ref filter, exit codes (0=ok, 2=stale). 6 tests. ruff clean.","created_at":"2026-02-08T13:06:45Z"},{"id":38,"issue_id":"beadloom-70p","author":"v.zoologov","text":"COMPLETED: CLI sync-check command with --porcelain (TAB-separated), --ref filter, exit codes (0=ok, 2=stale). 6 tests. ruff clean.","created_at":"2026-02-08T13:06:45Z"}]}
{"id":"beadloom-7s9","title":"[BDL-004] 3.3 Issue tracker linking","description":"New beadloom link command: add/remove/list links on graph nodes. Store in YAML links field -\u003e extra JSON. Auto-detect label from URL. Show links in ctx output and context_builder.","status":"closed","priority":2,"issue_type":"feature","owner":"zoologov@gmail.com","created_at":"2026-02-10T23:40:57.142171+03:00","created_by":"v.zoologov","updated_at":"2026-02-10T23:49:32.588542+03:00","closed_at":"2026-02-10T23:49:32.588542+03:00","close_reason":"Closed"}
{"id":"beadloom-7xt","title":"FUNC-02: sync-update --auto LLM integration","description":"Implement LLM auto-update: parse llm config from config.yml, build prompt with context bundle + code diff, call anthropic/openai API, show proposed changes for confirmation","status":"closed","priority":3,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:48.140693+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T20:02:49.251162+03:00","closed_at":"2026-02-08T20:02:49.251162+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-7xt","depends_on_id":"beadloom-cgt","type":"blocks","created_at":"2026-02-08T16:27:58.805367+03:00","created_by":"v.zoologov"}],"comments":[{"id":25,"issue_id":"beadloom-7xt","author":"v.zoologov","text":"CHECKPOINT: starting implementation. Strategy: create llm_updater.py module with Anthropic/OpenAI support via httpx (already available as transitive dependency). CLI _handle_auto_sync will use the new module.","created_at":"2026-02-08T16:53:49Z"},{"id":26,"issue_id":"beadloom-7xt","author":"v.zoologov","text":"COMPLETED: llm_updater.py module (Anthropic+OpenAI via httpx), updated _handle_auto_sync in cli.py with diff display and confirm (yes/edit/no), 22 new tests in test_llm_updater.py + 5 CLI tests in test_cli_sync_update.py. 354 tests pass, ruff/mypy clean.","created_at":"2026-02-08T17:02:46Z"},{"id":39,"issue_id":"beadloom-7xt","author":"v.zoologov","text":"CHECKPOINT: starting implementation. Strategy: create llm_updater.py module with Anthropic/OpenAI support via httpx (already available as transitive dependency). CLI _handle_auto_sync will use the new module.","created_at":"2026-02-08T16:53:49Z"},{"id":40,"issue_id":"beadloom-7xt","author":"v.zoologov","text":"COMPLETED: llm_updater.py module (Anthropic+OpenAI via httpx), updated _handle_auto_sync in cli.py with diff display and confirm (yes/edit/no), 22 new tests in test_llm_updater.py + 5 CLI tests in test_cli_sync_update.py. 354 tests pass, ruff/mypy clean.","created_at":"2026-02-08T17:02:46Z"}]}
{"id":"beadloom-8b9","title":"BEAD-11: beadloom status command","description":"CLI status command. Coverage per domain/service, stale docs count, overall statistics. Rich progress bars.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:50.053019+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:03:04.820304+03:00","closed_at":"2026-02-08T16:03:04.820304+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-8b9","depends_on_id":"beadloom-8bh","type":"blocks","created_at":"2026-02-08T15:29:24.055787+03:00","created_by":"v.zoologov"}],"comments":[{"id":11,"issue_id":"beadloom-8b9","author":"v.zoologov","text":"COMPLETED: CLI status command -- nodes/edges/docs/chunks/symbols counts, per-kind breakdown, doc coverage %, stale docs count. 4 tests. ruff clean.","created_at":"2026-02-08T13:03:04Z"},{"id":41,"issue_id":"beadloom-8b9","author":"v.zoologov","text":"COMPLETED: CLI status command -- nodes/edges/docs/chunks/symbols counts, per-kind breakdown, doc coverage %, stale docs count. 4 tests. ruff clean.","created_at":"2026-02-08T13:03:04Z"}]}
{"id":"beadloom-8bh","title":"BEAD-06: beadloom reindex command","description":"CLI reindex command. Orchestrate: drop all → create schema → load graph → index docs → index code. Update meta table. Rich progress output.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:43.753159+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T15:49:14.726123+03:00","closed_at":"2026-02-08T15:49:14.726123+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-8bh","depends_on_id":"beadloom-ret","type":"blocks","created_at":"2026-02-08T15:29:23.627774+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-8bh","depends_on_id":"beadloom-40p","type":"blocks","created_at":"2026-02-08T15:29:23.687244+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-8bh","depends_on_id":"beadloom-3qz","type":"blocks","created_at":"2026-02-08T15:29:23.749674+03:00","created_by":"v.zoologov"}],"comments":[{"id":6,"issue_id":"beadloom-8bh","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- reindex.py: reindex(), ReindexResult, _drop_all_tables(), _build_doc_ref_map(), _index_code_files()\n- Full pipeline: drop all → create schema → load graph → index docs → index code → set meta\n- doc ref_id linking: YAML nodes with docs field → ref_id_map for doc indexer\n- Annotated code → touches_code edges\n- Meta: last_reindex_at, beadloom_version, schema_version\n\nTESTS:\n- 10 tests passed (100 total)\n- test_creates_db_and_schema, test_loads_graph, test_loads_docs, test_loads_code_symbols\n- test_sets_meta, test_drop_and_recreate, test_annotated_code_creates_edges\n- test_doc_ref_id_linking, test_empty_project, test_returns_result\n- ruff clean, mypy clean\n\nFILES:\n- src/beadloom/reindex.py -- new\n- tests/test_reindex.py -- new","created_at":"2026-02-08T12:49:14Z"},{"id":42,"issue_id":"beadloom-8bh","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- reindex.py: reindex(), ReindexResult, _drop_all_tables(), _build_doc_ref_map(), _index_code_files()\n- Full pipeline: drop all → create schema → load graph → index docs → index code → set meta\n- doc ref_id linking: YAML nodes with docs field → ref_id_map for doc indexer\n- Annotated code → touches_code edges\n- Meta: last_reindex_at, beadloom_version, schema_version\n\nTESTS:\n- 10 tests passed (100 total)\n- test_creates_db_and_schema, test_loads_graph, test_loads_docs, test_loads_code_symbols\n- test_sets_meta, test_drop_and_recreate, test_annotated_code_creates_edges\n- test_doc_ref_id_linking, test_empty_project, test_returns_result\n- ruff clean, mypy clean\n\nFILES:\n- src/beadloom/reindex.py -- new\n- tests/test_reindex.py -- new","created_at":"2026-02-08T12:49:14Z"}]}
{"id":"beadloom-8hb","title":"BEAD-13: L1 cache (in-memory)","description":"CacheKey = (ref_id, depth, max_nodes, max_chunks). CacheEntry with mtime, etag. Invalidation by mtime and reindex. Cached response format.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:50.207285+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:11:16.79917+03:00","closed_at":"2026-02-08T16:11:16.79917+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-8hb","depends_on_id":"beadloom-b5a","type":"blocks","created_at":"2026-02-08T15:29:24.18388+03:00","created_by":"v.zoologov"}],"comments":[{"id":15,"issue_id":"beadloom-8hb","author":"v.zoologov","text":"COMPLETED: cache.py -- ContextCache with CacheKey (ref_id, depth, max_nodes, max_chunks), CacheEntry with mtime, invalidation by graph/docs mtime, clear/clear_ref/stats. 9 tests. ruff clean.","created_at":"2026-02-08T13:11:16Z"},{"id":43,"issue_id":"beadloom-8hb","author":"v.zoologov","text":"COMPLETED: cache.py -- ContextCache with CacheKey (ref_id, depth, max_nodes, max_chunks), CacheEntry with mtime, invalidation by graph/docs mtime, clear/clear_ref/stats. 9 tests. ruff clean.","created_at":"2026-02-08T13:11:16Z"}]}
{"id":"beadloom-8u2","title":"BEAD-20: beadloom init (bootstrap + import + interactive)","description":"onboarding.py. Interactive mode (3 options), re-init detection. Bootstrap: scan + tree-sitter + cluster + generate YAML + stub docs. Import: classify + restructure/map-in-place. Config + .gitignore management.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:57.170916+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:17:06.545407+03:00","closed_at":"2026-02-08T16:17:06.545407+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-8u2","depends_on_id":"beadloom-3qz","type":"blocks","created_at":"2026-02-08T15:29:24.696298+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-8u2","depends_on_id":"beadloom-8bh","type":"blocks","created_at":"2026-02-08T15:29:24.758871+03:00","created_by":"v.zoologov"}],"comments":[{"id":19,"issue_id":"beadloom-8u2","author":"v.zoologov","text":"COMPLETED: onboarding.py -- scan_project(), classify_doc(), bootstrap_project(), import_docs(). CLI init with --bootstrap and --import. YAML graph generation, config.yml, document classification. 19 tests. ruff clean.","created_at":"2026-02-08T13:17:06Z"},{"id":44,"issue_id":"beadloom-8u2","author":"v.zoologov","text":"COMPLETED: onboarding.py -- scan_project(), classify_doc(), bootstrap_project(), import_docs(). CLI init with --bootstrap and --import. YAML graph generation, config.yml, document classification. 19 tests. ruff clean.","created_at":"2026-02-08T13:17:06Z"}]}
{"id":"beadloom-8ue","title":"[BDL-004] 3.2 Health dashboard + trend data","description":"Add health.py module with HealthSnapshot, health_snapshots DB table, take_snapshot() on reindex, Rich-formatted status with per-kind coverage and trend deltas","status":"closed","priority":1,"issue_type":"feature","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-10T23:40:55.231021+03:00","created_by":"v.zoologov","updated_at":"2026-02-10T23:49:32.537375+03:00","closed_at":"2026-02-10T23:49:32.537375+03:00","close_reason":"Closed","comments":[{"id":61,"issue_id":"beadloom-8ue","author":"v.zoologov","text":"COMPLETED: health.py module with HealthSnapshot, take_snapshot, get_latest_snapshots, compute_trend. health_snapshots table in DB. Rich-formatted status with per-kind coverage and trend deltas. 16 tests in test_health.py.","created_at":"2026-02-10T20:49:31Z"}]}
{"id":"beadloom-8yw","title":"INFRA-01: GitHub Actions CI","description":"Create .github/workflows/ci.yml: pytest + ruff + mypy on push/PR. Matrix: Python 3.10, 3.11, 3.12, 3.13. Cache uv. Fail on coverage \u003c 80%","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:43.786277+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:22:01.617729+03:00","closed_at":"2026-02-08T18:22:01.617729+03:00","close_reason":"Closed"}
{"id":"beadloom-93t","title":"FUNC-03: Multi-language code_indexer","description":"Add tree-sitter grammars for TypeScript, Go, Rust. Extend code_indexer.py to detect language by extension, load appropriate grammar, extract symbols per language","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:51.653546+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T19:45:38.581889+03:00","closed_at":"2026-02-08T19:45:38.581889+03:00","close_reason":"Closed","comments":[{"id":23,"issue_id":"beadloom-93t","author":"v.zoologov","text":"COMPLETED: multi-language code_indexer -- LangConfig dataclass, lazy-loading grammars for TS/Go/Rust with graceful ImportError. 24 new tests. optional deps [languages].","created_at":"2026-02-08T16:45:35Z"},{"id":45,"issue_id":"beadloom-93t","author":"v.zoologov","text":"COMPLETED: multi-language code_indexer -- LangConfig dataclass, lazy-loading grammars for TS/Go/Rust with graceful ImportError. 24 new tests. optional deps [languages].","created_at":"2026-02-08T16:45:35Z"}]}
{"id":"beadloom-9lr","title":"[4.3] Auto-reindex in MCP server","description":"On MCP tool call, detect stale index via mtime comparison, run incremental reindex before responding. Configurable via mcp.auto_reindex in config.yml. Files: mcp_server.py, reindex.py","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-11T00:32:43.776541+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T00:57:36.242665+03:00","closed_at":"2026-02-11T00:57:36.242665+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-9lr","depends_on_id":"beadloom-6km","type":"blocks","created_at":"2026-02-11T00:33:02.011346+03:00","created_by":"v.zoologov"}],"comments":[{"id":66,"issue_id":"beadloom-9lr","author":"v.zoologov","text":"COMPLETED: Auto-reindex in MCP server. _is_index_stale() compares mtimes with last_reindex_at. _ensure_fresh_index() runs incremental_reindex when stale. Called in _call_tool before dispatch. Cache cleared after reindex. 3 new tests.","created_at":"2026-02-10T21:57:35Z"}]}
{"id":"beadloom-a4r","title":"[BDL-002] 1.3: Deprecate --auto, remove llm_updater.py","description":"Remove llm_updater.py entirely. Replace --auto flag with deprecation warning pointing to .beadloom/AGENTS.md. Remove _handle_auto_sync() from cli.py. Remove llm-updater node from services.yml. Delete test_llm_updater.py and test_cli_sync_auto.py. Add deprecation test.","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-10T22:29:38.852556+03:00","created_by":"v.zoologov","updated_at":"2026-02-10T22:35:10.500361+03:00","closed_at":"2026-02-10T22:35:10.500361+03:00","close_reason":"Closed","comments":[{"id":54,"issue_id":"beadloom-a4r","author":"v.zoologov","text":"COMPLETED: Removed llm_updater.py, replaced --auto with deprecation warning, removed llm-updater node from graph, deleted old tests, added deprecation test. All tests pass (329).","created_at":"2026-02-10T19:35:01Z"}]}
{"id":"beadloom-adc","title":"QA-01: pytest --cov coverage report, target 80%+","description":"Run pytest --cov, identify uncovered areas, add missing tests to reach 80%+ coverage threshold from pyproject.toml","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:43.103118+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:22:01.614951+03:00","closed_at":"2026-02-08T18:22:01.614951+03:00","close_reason":"Closed"}
{"id":"beadloom-ae6","title":"BEAD-17: beadloom sync-update (interactive)","description":"CLI sync-update. Show code diff since last sync, open doc in $EDITOR, update sync_state hashes after save.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:56.919604+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:13:53.855578+03:00","closed_at":"2026-02-08T16:13:53.855578+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-ae6","depends_on_id":"beadloom-70p","type":"blocks","created_at":"2026-02-08T15:29:24.505728+03:00","created_by":"v.zoologov"}],"comments":[{"id":17,"issue_id":"beadloom-ae6","author":"v.zoologov","text":"COMPLETED: CLI sync-update with --check (status display), ref_id filter. 4 tests. ruff clean.","created_at":"2026-02-08T13:13:53Z"},{"id":46,"issue_id":"beadloom-ae6","author":"v.zoologov","text":"COMPLETED: CLI sync-update with --check (status display), ref_id filter. 4 tests. ruff clean.","created_at":"2026-02-08T13:13:53Z"}]}
{"id":"beadloom-b5a","title":"BEAD-12: MCP server core","description":"mcp_server.py: MCP server with stdio transport. Tools: get_context, get_graph, list_nodes, get_status, sync_check. Stale index detection.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:50.130077+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:09:45.560136+03:00","closed_at":"2026-02-08T16:09:45.560136+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-b5a","depends_on_id":"beadloom-68p","type":"blocks","created_at":"2026-02-08T15:29:24.120015+03:00","created_by":"v.zoologov"}],"comments":[{"id":14,"issue_id":"beadloom-b5a","author":"v.zoologov","text":"COMPLETED: mcp_server.py -- 5 tools (get_context, get_graph, list_nodes, sync_check, get_status). Sync handler functions + async MCP wrappers. create_server() factory. 11 tests. ruff clean.","created_at":"2026-02-08T13:09:45Z"},{"id":47,"issue_id":"beadloom-b5a","author":"v.zoologov","text":"COMPLETED: mcp_server.py -- 5 tools (get_context, get_graph, list_nodes, sync_check, get_status). Sync handler functions + async MCP wrappers. create_server() factory. 11 tests. ruff clean.","created_at":"2026-02-08T13:09:45Z"}]}
{"id":"beadloom-bo4","title":"BEAD-02: SQLite schema + DB layer","description":"db.py: open_db(), create_schema(), get_meta(), set_meta(). All tables: nodes, edges, docs, chunks, code_symbols, sync_state, meta. WAL mode, foreign_keys ON, CHECK constraints, indexes.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:36.989325+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T15:36:53.137711+03:00","closed_at":"2026-02-08T15:36:53.137711+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-bo4","depends_on_id":"beadloom-3ow","type":"blocks","created_at":"2026-02-08T15:29:23.382175+03:00","created_by":"v.zoologov"}],"comments":[{"id":2,"issue_id":"beadloom-bo4","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- db.py: open_db(), create_schema(), get_meta(), set_meta()\n- All 7 tables from RFC: nodes, edges, docs, chunks, code_symbols, sync_state, meta\n- PRAGMA journal_mode=WAL (at creation), foreign_keys=ON (per-connection)\n- CHECK constraints on kind fields (nodes, edges, docs, code_symbols, sync_state)\n- ON DELETE CASCADE (edges), ON DELETE SET NULL (docs.ref_id, chunks.node_ref_id)\n- 9 indexes\n- Idempotent schema creation (IF NOT EXISTS)\n\nTESTS:\n- 24 tests passed\n- TestOpenDb: 5 tests (WAL, FK, row_factory, per-connection FK)\n- TestCreateSchema: 15 tests (all tables, CHECK constraints, FK enforcement, CASCADE/SET NULL, indexes, idempotency)\n- TestMeta: 4 tests (set/get, missing, default, overwrite)\n- ruff clean, mypy clean\n\nFILES:\n- src/beadloom/db.py -- new\n- tests/test_db.py -- new","created_at":"2026-02-08T12:36:53Z"},{"id":48,"issue_id":"beadloom-bo4","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- db.py: open_db(), create_schema(), get_meta(), set_meta()\n- All 7 tables from RFC: nodes, edges, docs, chunks, code_symbols, sync_state, meta\n- PRAGMA journal_mode=WAL (at creation), foreign_keys=ON (per-connection)\n- CHECK constraints on kind fields (nodes, edges, docs, code_symbols, sync_state)\n- ON DELETE CASCADE (edges), ON DELETE SET NULL (docs.ref_id, chunks.node_ref_id)\n- 9 indexes\n- Idempotent schema creation (IF NOT EXISTS)\n\nTESTS:\n- 24 tests passed\n- TestOpenDb: 5 tests (WAL, FK, row_factory, per-connection FK)\n- TestCreateSchema: 15 tests (all tables, CHECK constraints, FK enforcement, CASCADE/SET NULL, indexes, idempotency)\n- TestMeta: 4 tests (set/get, missing, default, overwrite)\n- ruff clean, mypy clean\n\nFILES:\n- src/beadloom/db.py -- new\n- tests/test_db.py -- new","created_at":"2026-02-08T12:36:53Z"}]}
{"id":"beadloom-bzv","title":"BEAD-10: beadloom doctor command","description":"doctor.py: run_checks(). Validate: broken ref_id, duplicates, empty summaries, orphaned edges, confidence warnings, missing doc files. Rich output.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:44.06657+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:02:02.568733+03:00","closed_at":"2026-02-08T16:02:02.568733+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-bzv","depends_on_id":"beadloom-8bh","type":"blocks","created_at":"2026-02-08T15:29:23.992757+03:00","created_by":"v.zoologov"}],"comments":[{"id":10,"issue_id":"beadloom-bzv","author":"v.zoologov","text":"COMPLETED: doctor.py -- 4 checks: empty_summaries, unlinked_docs, nodes_without_docs, isolated_nodes. CLI doctor command. 9 tests. ruff clean.","created_at":"2026-02-08T13:02:02Z"},{"id":49,"issue_id":"beadloom-bzv","author":"v.zoologov","text":"COMPLETED: doctor.py -- 4 checks: empty_summaries, unlinked_docs, nodes_without_docs, isolated_nodes. CLI doctor command. 9 tests. ruff clean.","created_at":"2026-02-08T13:02:02Z"}]}
{"id":"beadloom-cgt","title":"FUNC-01: sync-update interactive ($EDITOR)","description":"Full interactive sync-update: show code diff since last sync, open doc in EDITOR, update sync_state hashes after save","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:44.246565+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T19:45:38.579897+03:00","closed_at":"2026-02-08T19:45:38.579897+03:00","close_reason":"Closed","comments":[{"id":22,"issue_id":"beadloom-cgt","author":"v.zoologov","text":"COMPLETED: sync-update interactive -- shows stale pairs, opens doc in $EDITOR, updates sync_state hashes after save. mark_synced() in sync_engine.py. 3 interactive tests + 1 unit test mark_synced.","created_at":"2026-02-08T16:45:35Z"},{"id":50,"issue_id":"beadloom-cgt","author":"v.zoologov","text":"COMPLETED: sync-update interactive -- shows stale pairs, opens doc in $EDITOR, updates sync_state hashes after save. mark_synced() in sync_engine.py. 3 interactive tests + 1 unit test mark_synced.","created_at":"2026-02-08T16:45:35Z"}]}
{"id":"beadloom-d2c","title":"EPIC: Infrastructure \u0026 Distribution","description":"CI/CD pipeline, user documentation, PyPI publishing","status":"closed","priority":2,"issue_type":"feature","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:37.560101+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T19:25:17.167319+03:00","closed_at":"2026-02-08T19:25:17.167319+03:00","close_reason":"All INFRA tasks done: CI (8yw), README (feu), PyPI v0.1.0 published (6fu)"}
{"id":"beadloom-d70","title":"2.2 Smarter bootstrap — multi-level scan, edge inference","description":"Extend bootstrap_project() to use preset rules: multi-level dir scanning, pattern-based kind classification, part_of edge inference from nesting, depends_on from manifests (monorepo). Confidence levels per node.","status":"closed","priority":1,"issue_type":"feature","owner":"zoologov@gmail.com","created_at":"2026-02-10T22:55:42.779987+03:00","created_by":"v.zoologov","updated_at":"2026-02-10T23:01:53.035192+03:00","closed_at":"2026-02-10T23:01:53.035192+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-d70","depends_on_id":"beadloom-hwu","type":"blocks","created_at":"2026-02-10T22:55:48.796768+03:00","created_by":"v.zoologov"}],"comments":[{"id":59,"issue_id":"beadloom-d70","author":"v.zoologov","text":"COMPLETED: Smarter bootstrap implemented as part of presets work. _cluster_with_children() does 2-level scan, preset.classify_dir() classifies by patterns, part_of edges from nesting, depends_on from manifests. All integrated into bootstrap_project().","created_at":"2026-02-10T20:01:52Z"}]}
{"id":"beadloom-etl","title":"2.4 Interactive bootstrap review — Rich table preview before write","description":"After bootstrap generates graph in memory, show Rich table with nodes/edges, summary line, confirmation prompt (Y/n/edit). Only in interactive_init() flow, not --bootstrap.","status":"closed","priority":2,"issue_type":"feature","owner":"zoologov@gmail.com","created_at":"2026-02-10T22:55:44.449287+03:00","created_by":"v.zoologov","updated_at":"2026-02-10T23:02:04.124236+03:00","closed_at":"2026-02-10T23:02:04.124236+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-etl","depends_on_id":"beadloom-hwu","type":"blocks","created_at":"2026-02-10T22:55:48.880186+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-etl","depends_on_id":"beadloom-d70","type":"blocks","created_at":"2026-02-10T22:55:48.961974+03:00","created_by":"v.zoologov"}],"comments":[{"id":60,"issue_id":"beadloom-etl","author":"v.zoologov","text":"COMPLETED: Interactive review implemented. _format_review_table() shows nodes/edges table, interactive_init() prompts Proceed? [yes/edit/cancel]. Tests: test_review_edit_returns_early, test_review_cancel.","created_at":"2026-02-10T20:02:04Z"}]}
{"id":"beadloom-feu","title":"INFRA-02: README.md user documentation","description":"Write comprehensive README: installation, quickstart (init → reindex → ctx), all CLI commands, MCP setup, configuration reference, examples","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:47.430468+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:41:53.185731+03:00","closed_at":"2026-02-08T18:41:53.185731+03:00","close_reason":"Closed"}
{"id":"beadloom-fwo","title":"BDL-006: Phase 5 — Developer Experience (v0.7)","description":"Make Beadloom enjoyable and intuitive: TUI, graph diff, why command, watch mode. See .claude/development/docs/features/BDL-006/","status":"in_progress","priority":1,"issue_type":"epic","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-11T01:53:38.983339+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T01:55:25.632204+03:00"}
{"id":"beadloom-fzb","title":"5.1 beadloom why — impact analysis","description":"New module why.py: bidirectional BFS (upstream/downstream), WhyResult/TreeNode/ImpactSummary dataclasses, Rich Tree+Panel rendering, --depth and --json flags. CLI command in cli.py. Tests in test_why.py + test_cli_why.py. See RFC-0006 §3.1","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-11T01:53:59.377729+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T02:10:40.557166+03:00","closed_at":"2026-02-11T02:10:40.557166+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-fzb","depends_on_id":"beadloom-fwo","type":"parent-child","created_at":"2026-02-11T01:57:21.622908+03:00","created_by":"v.zoologov"}],"comments":[{"id":72,"issue_id":"beadloom-fzb","author":"v.zoologov","text":"COMPLETED: why.py + tests (21 unit + 5 CLI = 26 tests). analyze_node() with bidirectional BFS, render_why() Rich output, result_to_dict() JSON. mypy strict clean, ruff clean. 512 total tests pass.","created_at":"2026-02-10T23:10:40Z"}]}
{"id":"beadloom-gjh","title":"[4.5] MCP write tools (update_node, mark_synced, search)","description":"Add 3 MCP write tools: update_node (modify YAML+SQLite), mark_synced (reset sync state), search (fuzzy query). Agent-native workflow enabler. Files: mcp_server.py, graph_loader.py, sync_engine.py","status":"closed","priority":1,"issue_type":"feature","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-11T00:32:41.535707+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T00:54:51.353434+03:00","closed_at":"2026-02-11T00:54:51.353434+03:00","close_reason":"Closed","comments":[{"id":64,"issue_id":"beadloom-gjh","author":"v.zoologov","text":"COMPLETED: 3 MCP write tools added. update_node: modifies YAML + SQLite, invalidates cache. mark_synced: resets sync_state by ref_id via mark_synced_by_ref(). search: basic SQL LIKE (will upgrade to FTS5 in 4.6). 8 MCP tools total (5 read + 3 write). 9 new tests. 430 total pass.","created_at":"2026-02-10T21:54:49Z"}]}
{"id":"beadloom-hwc","title":"QA-02: mypy --strict full pass","description":"Run mypy --strict on all modules. Fix type errors: add proper types to Any usages, resolve type: ignore needs, ensure all functions have return annotations","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:46.724344+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:22:01.619335+03:00","closed_at":"2026-02-08T18:22:01.619335+03:00","close_reason":"Closed"}
{"id":"beadloom-hwu","title":"2.1 Architecture presets — monolith, microservices, monorepo","description":"New presets.py module with PresetRule/Preset dataclasses. Three presets with dir-pattern rules and auto-detection heuristic. Add --preset flag to init CLI. Pattern-based node kind classification.","status":"closed","priority":1,"issue_type":"feature","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-10T22:55:41.155238+03:00","created_by":"v.zoologov","updated_at":"2026-02-10T23:01:39.454815+03:00","closed_at":"2026-02-10T23:01:39.454815+03:00","close_reason":"Closed","comments":[{"id":58,"issue_id":"beadloom-hwu","author":"v.zoologov","text":"COMPLETED: Architecture presets implemented. New presets.py module with Preset/PresetRule dataclasses, 3 presets (monolith/microservices/monorepo), auto-detection heuristic. --preset flag added to CLI init. Multi-level dir scanning, pattern-based kind classification, part_of edge inference, monorepo manifest deps. Tests: 19 in test_presets.py, 10 in test_onboarding::TestBootstrapPresets.","created_at":"2026-02-10T20:01:35Z"}]}
{"id":"beadloom-i9n","title":"BEAD-09: beadloom graph command","description":"CLI graph command. Mermaid output (default), --json, --depth flag.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:43.987407+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T16:00:16.894892+03:00","closed_at":"2026-02-08T16:00:16.894892+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-i9n","depends_on_id":"beadloom-8bh","type":"blocks","created_at":"2026-02-08T15:29:23.932468+03:00","created_by":"v.zoologov"}],"comments":[{"id":9,"issue_id":"beadloom-i9n","author":"v.zoologov","text":"COMPLETED: CLI graph command with Mermaid (default) and --json output. Support for ref_id filter and --depth. 7 tests. ruff clean.","created_at":"2026-02-08T13:00:16Z"},{"id":51,"issue_id":"beadloom-i9n","author":"v.zoologov","text":"COMPLETED: CLI graph command with Mermaid (default) and --json output. Support for ref_id filter and --depth. 7 tests. ruff clean.","created_at":"2026-02-08T13:00:16Z"}]}
{"id":"beadloom-meo","title":"BUG: Multiple nodes referencing same doc - last writer wins","description":"In _build_doc_ref_map (reindex.py), if two YAML nodes list the same doc in their docs[] array, the last node overwrites the mapping. E.g., both beadloom and context-oracle reference architecture.md, but only context-oracle gets the link. Fix: support many-to-many doc-node mapping, or warn on conflict.","status":"closed","priority":2,"issue_type":"bug","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:51:28.196298+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:01:13.81805+03:00","closed_at":"2026-02-08T18:01:13.81805+03:00","close_reason":"Closed"}
{"id":"beadloom-myp","title":"Improve beadloom annotation coverage to 80%+","description":"## Problem\n\nCurrent annotation coverage is 4.4% (4 annotations across 90 functions/classes in 14 modules). Only 4 modules out of 14 have any `# beadloom:` annotations, and those are module-level only. Agents using `beadloom ctx` get useful context for only 3 out of 6+ domains.\n\n## Scope\n\n### 1. Add missing graph nodes to services.yml\n- `llm-updater` (domain) — LLM integration for auto-updates\n- `reindex` (domain) — Full reindex pipeline\n- `onboarding` (domain) — Project bootstrap and setup\n- `db` (domain) — Database layer (SQLite WAL)\n- `doctor` (domain) — Health checks and diagnostics\n\n### 2. Add annotations to all 14 source modules\n\n**High priority (core):**\n- `cli.py` (15 symbols) → bind to `cli` node\n- `reindex.py` (7 symbols) → bind to `reindex` node\n- `llm_updater.py` (9 symbols) → bind to `llm-updater` node\n\n**Medium priority (infrastructure):**\n- `onboarding.py` (6 symbols) → bind to `onboarding` node\n- `graph_loader.py` (4 symbols) → bind to `graph-format` node\n- `doc_indexer.py` (4 symbols) → bind to `doc-sync` node\n\n**Low priority (utilities):**\n- `db.py` (4 symbols) → bind to `db` node\n- `doctor.py` (7 symbols) → bind to `doctor` node\n- `cache.py` (2 symbols) → bind to `context-oracle` node\n\n### 3. Enrich existing annotations\n- Go from module-level only to function/class-level for key symbols\n- Add cross-domain annotations where functions touch multiple domains\n\n## Acceptance criteria\n- [ ] All 14 .py modules have at least one annotation\n- [ ] 70%+ of public functions/classes are annotated\n- [ ] Graph has nodes for all major domains\n- [ ] `beadloom ctx \u003cany-node\u003e` returns relevant code for every node\n- [ ] All tests pass, mypy clean","status":"closed","priority":1,"issue_type":"feature","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-09T18:54:52.207556+03:00","created_by":"v.zoologov","updated_at":"2026-02-09T19:07:04.025501+03:00","closed_at":"2026-02-09T19:07:04.025501+03:00","close_reason":"100% annotation coverage achieved across all 14 modules and 90 symbols","comments":[{"id":53,"issue_id":"beadloom-myp","author":"v.zoologov","text":"COMPLETED: Annotation coverage improved from 4.4% (4/90) to 100% (90/90). Added module-level annotations to all 14 source files and function-level annotations for 5 remaining cli.py functions. Added 5 new graph nodes (reindex, onboarding, llm-updater, db, doctor) + 13 new edges to services.yml. Tests: 350 pass, ruff clean, mypy clean.","created_at":"2026-02-09T16:07:00Z"}]}
{"id":"beadloom-nni","title":"UX: hardcoded docs/ path in reindex - should be configurable","description":"reindex.py line 183 hardcodes docs_dir = project_root / 'docs'. Users who use doc/, documentation/, or other directory names cannot use beadloom. Fix: read from config.yml or accept CLI parameter.","status":"closed","priority":3,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:51:38.848708+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:41:53.189011+03:00","closed_at":"2026-02-08T18:41:53.189011+03:00","close_reason":"Closed"}
{"id":"beadloom-oaz","title":"[4.1] L1 cache integration in MCP server","description":"Integrate existing ContextCache into MCP server. Cache hit returns etag response. Invalidate on reindex. Files: mcp_server.py, cache.py","status":"closed","priority":0,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-11T00:32:36.363744+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T00:44:07.77495+03:00","closed_at":"2026-02-11T00:44:07.77495+03:00","close_reason":"Closed","comments":[{"id":62,"issue_id":"beadloom-oaz","author":"v.zoologov","text":"COMPLETED: L1 cache integrated in MCP. ContextCache used for get_context and get_graph. Cache hit returns short {cached,etag,unchanged_since,hint} response. Mtime-based invalidation. compute_etag + get_entry added to cache.py. 13 new tests (43 total for cache+mcp). 411 tests pass, mypy strict clean, ruff clean.","created_at":"2026-02-10T21:44:07Z"}]}
{"id":"beadloom-p5q","title":"[4.4] Bundle caching in SQLite (L2)","description":"Add bundle_cache table for persistent L2 cache. Two-tier: L1 in-memory -\u003e L2 SQLite -\u003e compute. Survives MCP restarts. Invalidation on reindex. Files: db.py, cache.py, mcp_server.py","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-11T00:32:45.825911+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T01:09:37.964824+03:00","closed_at":"2026-02-11T01:09:37.964824+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-p5q","depends_on_id":"beadloom-oaz","type":"blocks","created_at":"2026-02-11T00:33:02.505239+03:00","created_by":"v.zoologov"}],"comments":[{"id":67,"issue_id":"beadloom-p5q","author":"v.zoologov","text":"CHECKPOINT: Starting implementation — SqliteCache L2, bundle_cache table, two-tier integration","created_at":"2026-02-10T22:04:11Z"},{"id":69,"issue_id":"beadloom-p5q","author":"v.zoologov","text":"COMPLETED: SqliteCache L2 in cache.py, bundle_cache table in db.py, two-tier L1→L2→compute in mcp_server.py, invalidation on reindex+update_node. 8 new tests.","created_at":"2026-02-10T22:09:37Z"}]}
{"id":"beadloom-q6b","title":"5.2 beadloom diff — graph delta","description":"New module diff.py: parse YAML at git refs via git show, compare nodes by ref_id and edges by (src,dst,kind), NodeChange/EdgeChange/GraphDiff dataclasses, Rich table rendering, --since and --json flags, exit code 0/1. CLI command in cli.py. Tests in test_diff.py + test_cli_diff.py. See RFC-0006 §3.2","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-11T01:54:03.428991+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T02:10:42.084452+03:00","closed_at":"2026-02-11T02:10:42.084452+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-q6b","depends_on_id":"beadloom-fwo","type":"parent-child","created_at":"2026-02-11T01:57:21.697804+03:00","created_by":"v.zoologov"}],"comments":[{"id":73,"issue_id":"beadloom-q6b","author":"v.zoologov","text":"COMPLETED: diff.py + tests (16 unit + 6 CLI = 22 tests). compute_diff() with git show, render_diff() Rich output, diff_to_dict() JSON, exit codes 0/1. mypy strict clean, ruff clean. 512 total tests pass.","created_at":"2026-02-10T23:10:41Z"}]}
{"id":"beadloom-ret","title":"BEAD-03: YAML parser + graph loader","description":"graph_loader.py: parse_graph_dir(), load_nodes(), load_edges(). Parse .beadloom/_graph/*.yml, validate ref_id uniqueness, edge integrity. Map YAML to SQLite.","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T15:28:37.069232+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T15:40:02.526732+03:00","closed_at":"2026-02-08T15:40:02.526732+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-ret","depends_on_id":"beadloom-bo4","type":"blocks","created_at":"2026-02-08T15:29:23.444559+03:00","created_by":"v.zoologov"}],"comments":[{"id":3,"issue_id":"beadloom-ret","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- graph_loader.py: parse_graph_file(), load_graph(), ParsedFile, GraphLoadResult\n- Parsing .beadloom/_graph/*.yml via yaml.safe_load\n- Two-pass load: nodes first, then edges (for ref_id validation)\n- Validation: duplicate ref_id → error, broken edges → warning + skip\n- Extra fields serialized to nodes.extra as JSON\n- source field mapped to separate column\n- docs field saved to extra (doc indexing -- BEAD-04)\n\nTESTS:\n- 16 tests passed (+ 24 from BEAD-02 = 40 total)\n- TestParseGraphFile: 6 tests (nodes, edges, docs, extra, empty, nodes-only)\n- TestLoadGraph: 10 tests (load nodes/edges, extra JSON, multi-file, dup ref_id, broken edge, empty dir, docs field, cross-file edges)\n- ruff clean, mypy clean\n\nFILES:\n- src/beadloom/graph_loader.py -- new\n- tests/test_graph_loader.py -- new","created_at":"2026-02-08T12:40:02Z"},{"id":52,"issue_id":"beadloom-ret","author":"v.zoologov","text":"═══ BEAD COMPLETED: 2026-02-08 ═══\n\nWHAT WAS DONE:\n- graph_loader.py: parse_graph_file(), load_graph(), ParsedFile, GraphLoadResult\n- Parsing .beadloom/_graph/*.yml via yaml.safe_load\n- Two-pass load: nodes first, then edges (for ref_id validation)\n- Validation: duplicate ref_id → error, broken edges → warning + skip\n- Extra fields serialized to nodes.extra as JSON\n- source field mapped to separate column\n- docs field saved to extra (doc indexing -- BEAD-04)\n\nTESTS:\n- 16 tests passed (+ 24 from BEAD-02 = 40 total)\n- TestParseGraphFile: 6 tests (nodes, edges, docs, extra, empty, nodes-only)\n- TestLoadGraph: 10 tests (load nodes/edges, extra JSON, multi-file, dup ref_id, broken edge, empty dir, docs field, cross-file edges)\n- ruff clean, mypy clean\n\nFILES:\n- src/beadloom/graph_loader.py -- new\n- tests/test_graph_loader.py -- new","created_at":"2026-02-08T12:40:02Z"}]}
{"id":"beadloom-snc","title":"EPIC: Functional Enhancements","description":"sync-update interactive, sync-update --auto LLM, multi-language code indexer, init interactive mode","status":"closed","priority":2,"issue_type":"feature","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:38.73424+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T20:03:08.532517+03:00","closed_at":"2026-02-08T20:03:08.532517+03:00","close_reason":"All 4 tasks completed: FUNC-01 interactive editor, FUNC-02 LLM auto-update, FUNC-03 multi-lang indexer, FUNC-04 interactive init","dependencies":[{"issue_id":"beadloom-snc","depends_on_id":"beadloom-cgt","type":"blocks","created_at":"2026-02-08T19:52:27.508558+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-snc","depends_on_id":"beadloom-93t","type":"blocks","created_at":"2026-02-08T19:52:27.566394+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-snc","depends_on_id":"beadloom-33b","type":"blocks","created_at":"2026-02-08T19:52:27.625809+03:00","created_by":"v.zoologov"},{"issue_id":"beadloom-snc","depends_on_id":"beadloom-7xt","type":"blocks","created_at":"2026-02-08T19:52:27.678926+03:00","created_by":"v.zoologov"}]}
{"id":"beadloom-t2q","title":"QA-03: Integration tests (end-to-end)","description":"Write e2e tests: init --bootstrap → reindex → ctx → graph → doctor → status → sync-check full pipeline on a realistic test project","status":"closed","priority":2,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:49.966533+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:41:53.181922+03:00","closed_at":"2026-02-08T18:41:53.181922+03:00","close_reason":"Closed"}
{"id":"beadloom-v6b","title":"[4.7] Remove --auto flag and LLM API remnants","description":"Remove --auto from sync-update, remove deprecation warning, remove test TestSyncUpdateAutoDeprecated, clean LLM references from AGENTS.md. Files: cli.py, test_cli_sync_update.py, AGENTS.md","status":"closed","priority":0,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-11T00:32:38.088876+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T00:57:36.223227+03:00","closed_at":"2026-02-11T00:57:36.223227+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-v6b","depends_on_id":"beadloom-gjh","type":"blocks","created_at":"2026-02-11T00:33:03.068798+03:00","created_by":"v.zoologov"}],"comments":[{"id":65,"issue_id":"beadloom-v6b","author":"v.zoologov","text":"COMPLETED: Removed --auto flag from sync-update. Removed deprecation handler. Updated test to verify flag rejection. Docstring updated to reference MCP write tools.","created_at":"2026-02-10T21:57:33Z"}]}
{"id":"beadloom-vg5","title":"[4.6] Semantic search (FTS5 + sqlite-vec)","description":"FTS5 built-in search (zero deps). Optional sqlite-vec + fastembed for vector search. New search.py module, CLI search command, MCP search tool. Files: db.py, reindex.py, cli.py, mcp_server.py, NEW search.py, pyproject.toml","status":"closed","priority":2,"issue_type":"feature","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-11T00:32:49.608023+03:00","created_by":"v.zoologov","updated_at":"2026-02-11T01:09:40.403975+03:00","closed_at":"2026-02-11T01:09:40.403975+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-vg5","depends_on_id":"beadloom-6km","type":"blocks","created_at":"2026-02-11T00:33:04.731911+03:00","created_by":"v.zoologov"}],"comments":[{"id":68,"issue_id":"beadloom-vg5","author":"v.zoologov","text":"CHECKPOINT: Starting implementation — FTS5 search_index, search.py, CLI search command","created_at":"2026-02-10T22:04:12Z"},{"id":70,"issue_id":"beadloom-vg5","author":"v.zoologov","text":"COMPLETED: FTS5 search_index in db.py, search.py module (search_fts5, populate_search_index, has_fts5), CLI search command, MCP handle_search with FTS5, pyproject.toml [search] deps. 23 new tests.","created_at":"2026-02-10T22:09:40Z"}]}
{"id":"beadloom-vxu","title":"QA-04: CLI reindex command test","description":"Add test for the CLI reindex command (was missing - just fixed the registration). Test: reindex runs, outputs counts, handles missing project","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:52.889514+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:22:01.621051+03:00","closed_at":"2026-02-08T18:22:01.621051+03:00","close_reason":"Closed"}
{"id":"beadloom-wde","title":"[BDL-004] 3.1 CI integration (GitHub Action + GitLab CI)","description":"Add --json and --report flags to sync-check. Create action.yml composite GitHub Action. Create ci-templates/beadloom-sync.gitlab-ci.yml. Write docs/ci-setup.md.","status":"closed","priority":0,"issue_type":"feature","owner":"zoologov@gmail.com","created_at":"2026-02-10T23:40:58.173406+03:00","created_by":"v.zoologov","updated_at":"2026-02-10T23:49:32.555002+03:00","closed_at":"2026-02-10T23:49:32.555002+03:00","close_reason":"Closed"}
{"id":"beadloom-wqn","title":"EPIC: Quality \u0026 Maturity","description":"Test coverage, mypy strict, integration tests, CLI reindex command fix","status":"closed","priority":1,"issue_type":"feature","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:27:37.567242+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:43:19.79186+03:00","closed_at":"2026-02-08T18:43:19.79186+03:00","close_reason":"All QA tasks completed: coverage 92%, mypy strict, 296 tests (25 e2e), ruff clean"}
{"id":"beadloom-ws3","title":"BUG: suggest_ref_id misses prefix matches for short strings","description":"Levenshtein threshold max(len//2, 3) is too restrictive for prefix matches. 'mcp' suggests 'cli' instead of 'mcp-server' because edit distance to mcp-server is 7 \u003e threshold 3. Fix: add prefix matching as a supplementary strategy alongside Levenshtein.","status":"closed","priority":3,"issue_type":"bug","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-08T16:51:31.475815+03:00","created_by":"v.zoologov","updated_at":"2026-02-08T18:01:13.819922+03:00","closed_at":"2026-02-08T18:01:13.819922+03:00","close_reason":"Closed"}
{"id":"beadloom-zvw","title":"[BDL-002] 1.5: Update cli-reference.md","description":"Remove --auto flag docs. Remove LLM config section. Add note pointing to .beadloom/AGENTS.md for agent-native workflow. Ensure sync-update interactive mode is accurately documented.","status":"closed","priority":1,"issue_type":"task","assignee":"v.zoologov","owner":"zoologov@gmail.com","created_at":"2026-02-10T22:29:43.178347+03:00","created_by":"v.zoologov","updated_at":"2026-02-10T22:35:10.534995+03:00","closed_at":"2026-02-10T22:35:10.534995+03:00","close_reason":"Closed","dependencies":[{"issue_id":"beadloom-zvw","depends_on_id":"beadloom-a4r","type":"blocks","created_at":"2026-02-10T22:29:47.237686+03:00","created_by":"v.zoologov"}],"comments":[{"id":56,"issue_id":"beadloom-zvw","author":"v.zoologov","text":"COMPLETED: Updated cli-reference.md sync-update section — removed --auto docs, added agent-native pointer. Updated README.md and README.ru.md to remove --auto mention.","created_at":"2026-02-10T19:35:04Z"}]}
