nodes:
  - ref_id: beadloom
    kind: service
    summary: "Beadloom CLI + MCP server — Context Oracle + Doc Sync Engine"
    source: src/beadloom/
    docs:
      - docs/architecture.md
      - docs/getting-started.md

  - ref_id: context-oracle
    kind: domain
    summary: "Context bundle building via BFS graph traversal"
    docs:
      - docs/context-oracle.md

  - ref_id: doc-sync
    kind: domain
    summary: "Doc-code synchronization tracking and stale detection"
    docs:
      - docs/sync-engine.md

  - ref_id: mcp-server
    kind: service
    summary: "MCP stdio server with 5 tools for AI agents"
    docs:
      - docs/mcp-server.md

  - ref_id: cli
    kind: service
    summary: "Click-based CLI with 11 commands"
    docs:
      - docs/cli-reference.md

  - ref_id: graph-format
    kind: domain
    summary: "YAML graph format specification and loader"
    docs:
      - docs/graph-format.md

  - ref_id: reindex
    kind: domain
    summary: "Full reindex pipeline — drop, re-create, reload graph/docs/code/sync"

  - ref_id: onboarding
    kind: domain
    summary: "Project bootstrap, doc import, and interactive initialization"

  - ref_id: llm-updater
    kind: domain
    summary: "LLM-powered documentation auto-updater (Anthropic/OpenAI)"

  - ref_id: db
    kind: domain
    summary: "SQLite database layer — schema, connection management, meta helpers"

  - ref_id: doctor
    kind: domain
    summary: "Validation checks for graph and data integrity"

edges:
  - src: context-oracle
    dst: beadloom
    kind: part_of
  - src: doc-sync
    dst: beadloom
    kind: part_of
  - src: mcp-server
    dst: beadloom
    kind: part_of
  - src: cli
    dst: beadloom
    kind: part_of
  - src: graph-format
    dst: beadloom
    kind: part_of
  - src: mcp-server
    dst: context-oracle
    kind: uses
  - src: cli
    dst: context-oracle
    kind: uses
  - src: cli
    dst: doc-sync
    kind: uses
  - src: cli
    dst: graph-format
    kind: uses
  - src: reindex
    dst: beadloom
    kind: part_of
  - src: onboarding
    dst: beadloom
    kind: part_of
  - src: llm-updater
    dst: beadloom
    kind: part_of
  - src: db
    dst: beadloom
    kind: part_of
  - src: doctor
    dst: beadloom
    kind: part_of
  - src: reindex
    dst: db
    kind: uses
  - src: reindex
    dst: graph-format
    kind: uses
  - src: reindex
    dst: doc-sync
    kind: uses
  - src: context-oracle
    dst: db
    kind: uses
  - src: doc-sync
    dst: db
    kind: uses
  - src: cli
    dst: reindex
    kind: uses
  - src: cli
    dst: doctor
    kind: uses
  - src: cli
    dst: onboarding
    kind: uses
  - src: cli
    dst: llm-updater
    kind: uses
  - src: mcp-server
    dst: db
    kind: uses
  - src: mcp-server
    dst: doc-sync
    kind: uses
